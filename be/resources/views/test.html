<!DOCTYPE html>
<html>
<head>
  <title>Order Realtime Test</title>
  <script src="https://js.pusher.com/7.2/pusher.min.js"></script>
</head>
<body>
  <h2>ðŸ”” Listening for new orders...</h2>
  <ul id="logs"></ul>

  <script>
    // HÃ m log lÃªn giao diá»‡n
    const log = (msg) => {
      const el = document.createElement('li');
      el.textContent = msg;
      document.getElementById('logs').appendChild(el);
    }

    // Thay báº±ng key vÃ  cluster tháº­t cá»§a báº¡n
    const pusher = new Pusher('ee494af10a7f4a6e48b6', {
      cluster: 'mt1',
      forceTLS: true
    });

    // Láº¯ng nghe channel 'orders' vÃ  sá»± kiá»‡n 'order.placed'
    const channel = pusher.subscribe('orders');
    channel.bind('order.placed', function(data) {
      log(`ðŸ“¦ New order from ${data.username} | Total: $${data.total_price} | At: ${data.created_at}`);
    });

    log('âœ… Subscribed to channel "orders", waiting for events...');
  </script>
</body>
</html>
